<script src="https://telegram.org/js/telegram-web-app.js"></script>

<h2>Регистрация</h2>
<input id="name" placeholder="Ваше имя">
<button onclick="register()">Продолжить</button>

<script>
const tg = window.Telegram.WebApp;

function register() {
    const name = document.getElementById("name").value;

    fetch("http://localhost:8000/register", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            telegram_id: tg.initDataUnsafe.user.id,
            name: name
        })
    }).then(r => r.json()).then(data => {
        if (data.status === "ok") {
            alert("Регистрация завершена!");
        } else {
            alert("Вы уже зарегистрированы!");
        }
    });
}
</script>